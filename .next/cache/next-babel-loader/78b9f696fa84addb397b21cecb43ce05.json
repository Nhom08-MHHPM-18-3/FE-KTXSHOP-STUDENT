{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from 'react';\nimport TopHeader from '../components/Layouts/TopHeader';\nimport Navbar from '../components/Layouts/Navbar';\nimport MainBanner from '../components/HomeOne/MainBanner';\nimport RecentProducts from '../components/HomeOne/RecentProducts';\nimport OfferStyleOne from '../components/Common/OfferStyleOne';\nimport FacilitySlider from '../components/Common/FacilitySlider';\nimport Footer from '../components/Layouts/Footer';\nimport PopularProducts from '../components/HomeOne/PopularProducts';\nimport BestSellingProducts from '../components/HomeOne/BestSellingProducts';\nimport CartContext from '../contexts/CartContext';\nimport { UserContext } from '../contexts/UserContext';\n\nconst Index = () => {\n  const cart = useContext(CartContext);\n  const user = useContext(UserContext);\n  const {\n    0: data,\n    1: setData\n  } = useState([]);\n  useEffect(() => {\n    fecthNewProduct();\n  }, []);\n\n  const fecthNewProduct = async () => {\n    const qs = require('qs');\n\n    const query = qs.stringify({\n      sort: ['id:desc'],\n      populate: '*'\n    }, {\n      encodeValuesOnly: true\n    });\n    await fetch(process.env.API_HOST + `/api/products?${query}`).then(response => response.json()).then(res => {\n      if (res.data && res.data[0] && res.data[0].attributes) {\n        const dataProduct = res.data.slice(0, 6);\n        dataProduct.map((item, index) => {\n          data.push(item);\n          setData([...data]);\n        });\n      }\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(TopHeader, {\n    user: user\n  }), __jsx(Navbar, null), __jsx(MainBanner, null), __jsx(RecentProducts, {\n    products: data,\n    addToCart: cart.addToCart\n  }), __jsx(OfferStyleOne, null), __jsx(PopularProducts, {\n    products: data,\n    addToCart: cart.addToCart\n  }), __jsx(FacilitySlider, null), __jsx(BestSellingProducts, {\n    products: data,\n    addToCart: cart.addToCart\n  }), __jsx(Footer, null));\n};\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}