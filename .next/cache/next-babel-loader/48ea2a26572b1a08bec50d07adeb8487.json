{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component, useContext } from 'react';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport TopHeader from '../components/Layouts/TopHeader';\nimport Navbar from '../components/Layouts/Navbar';\nimport PageBanner from '../components/Common/PageBanner';\nimport FacilitySlider from '../components/Common/FacilitySlider';\nimport Footer from '../components/Layouts/Footer';\nimport { UserContext } from '../contexts/UserContext';\nimport Swal from 'sweetalert2';\n\nconst Register = () => {\n  const user = useContext(UserContext);\n\n  const handleRegister = async e => {\n    e.preventDefault();\n    let myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    await fetch(process.env.API_HOST + '/api/accounts', {\n      method: 'POST',\n      body: JSON.stringify({\n        data: {\n          PhoneNumber: e.target.elements.phoneNumber.value,\n          Password: e.target.elements.password.value\n        }\n      }),\n      headers: myHeaders\n    }).then(response => response.json()).then(res => {\n      if (res.data) {\n        Swal.fire({\n          icon: 'success',\n          title: 'Tạo tài khoản thành công',\n          text: 'Bây giờ bạn có thể đăng nhập và đặt hàng'\n        });\n      }\n\n      setTimeout(login, 2000);\n    });\n  };\n\n  const login = () => {\n    Router.push('/login');\n  };\n\n  return __jsx(React.Fragment, null, __jsx(TopHeader, {\n    user: user\n  }), __jsx(Navbar, null), __jsx(PageBanner, {\n    pageTitle: \"T\\xE0i kho\\u1EA3n\",\n    homePageUrl: \"/\",\n    homePageText: \"Trang ch\\u1EE7\",\n    activePageText: \"\\u0110\\u0103ng k\\xFD\"\n  }), __jsx(\"section\", {\n    className: \"signup-area ptb-100\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    className: \"signup-content\"\n  }, __jsx(\"h2\", null, \"T\\u1EA1o t\\xE0i kho\\u1EA3n\"), __jsx(\"form\", {\n    onSubmit: e => handleRegister(e),\n    className: \"signup-form\"\n  }, __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", null, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"), __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"phoneNumber\",\n    name: \"phoneNumber\"\n  })), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", null, \"M\\u1EADt kh\\u1EA9u\"), __jsx(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    id: \"password\",\n    name: \"password\"\n  })), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"default-btn\"\n  }, \"\\u0110\\u0103ng k\\xFD\"), __jsx(\"div\", {\n    className: \"text-center\"\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", {\n    className: \"return-store\"\n  }, \"Tr\\u1EDF l\\u1EA1i trang ch\\u1EE7\"))))))), __jsx(FacilitySlider, null), __jsx(Footer, null));\n};\n\nexport default Register;","map":null,"metadata":{},"sourceType":"module"}