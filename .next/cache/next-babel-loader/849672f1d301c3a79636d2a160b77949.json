{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport OrderUpdateModal from '../Modals/OrderUpdateModal';\nimport { firebase } from '../../../firebase';\nimport OrderTR from '../orders/OrderTR';\n\nvar OrdersTable = /*#__PURE__*/function (_Component) {\n  _inherits(OrdersTable, _Component);\n\n  var _super = _createSuper(OrdersTable);\n\n  function OrdersTable() {\n    var _this;\n\n    _classCallCheck(this, OrdersTable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      ordersData: [],\n      loading: true,\n      orderUpdateModal: false,\n      orderId: ''\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleOrderUpdateModal\", function (e) {\n      _this.setState({\n        orderUpdateModal: e\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeOrderUpdateModal\", function () {\n      _this.setState({\n        orderUpdateModal: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getId\", function (e) {\n      _this.setState({\n        orderId: e\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(OrdersTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var db = firebase.firestore();\n      var dbOrderRef = db.collection('orders');\n      var orderArray = [];\n      dbOrderRef.get().then(function (res) {\n        res.forEach(function (doc) {\n          var orderObj = doc.data();\n          orderObj.id = doc.id;\n          orderArray.push(orderObj);\n        });\n\n        _this2.setState({\n          ordersData: orderArray\n        });\n\n        _this2.loading = false;\n      }).catch(function (err) {\n        console.log('error', err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          ordersData = _this$state.ordersData,\n          loading = _this$state.loading;\n      return __jsx(\"div\", {\n        className: \"admin-main-content d-flex flex-column\"\n      }, __jsx(\"div\", {\n        className: \"page-header\"\n      }, __jsx(\"h2\", null, \"Orders\")), __jsx(\"div\", {\n        className: \"admin-table admin-orders-table height-555\"\n      }, __jsx(\"div\", {\n        className: \"table-responsive\"\n      }, __jsx(\"table\", {\n        className: \"table table-hover mb-0\"\n      }, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"Customer ID\"), __jsx(\"th\", null, \"Date\"), __jsx(\"th\", null, \"Delivery Address\"), __jsx(\"th\", null, \"Amount\"), __jsx(\"th\", null, \"Payment Method\"), __jsx(\"th\", null, \"Contact\"), __jsx(\"th\", null, \"Status\"))), __jsx(\"tbody\", null, loading ? __jsx(OrderTR, {\n        onOrderModal: this.toggleOrderUpdateModal,\n        onPassId: this.getId,\n        orders: ordersData\n      }) : 'Loading...')))), __jsx(OrderUpdateModal, {\n        onClick: this.closeOrderUpdateModal,\n        orderId: this.state.orderId,\n        active: this.state.orderUpdateModal ? 'active' : ''\n      }), __jsx(\"div\", {\n        className: \"flex-grow-1\"\n      }));\n    }\n  }]);\n\n  return OrdersTable;\n}(Component);\n\nexport default OrdersTable;","map":{"version":3,"sources":["F:/Năm 4 học kỳ 1/Mô hình hóa phần mềm/New folder (2)/components/Admin/orders/OrdersTable.js"],"names":["React","Component","OrderUpdateModal","firebase","OrderTR","OrdersTable","ordersData","loading","orderUpdateModal","orderId","e","setState","db","firestore","dbOrderRef","collection","orderArray","get","then","res","forEach","doc","orderObj","data","id","push","catch","err","console","log","state","toggleOrderUpdateModal","getId","closeOrderUpdateModal"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,gBAAP,MAA6B,4BAA7B;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,OAAOC,OAAP,MAAoB,mBAApB;;IAEMC,W;;;;;;;;;;;;;;;;4DACM;AACJC,MAAAA,UAAU,EAAE,EADR;AAEJC,MAAAA,OAAO,EAAE,IAFL;AAGJC,MAAAA,gBAAgB,EAAE,KAHd;AAIJC,MAAAA,OAAO,EAAE;AAJL,K;;6EA4BiB,UAACC,CAAD,EAAO;AAC5B,YAAKC,QAAL,CAAc;AACVH,QAAAA,gBAAgB,EAAEE;AADR,OAAd;AAGH,K;;4EAEuB,YAAM;AAC1B,YAAKC,QAAL,CAAc;AACVH,QAAAA,gBAAgB,EAAE;AADR,OAAd;AAGH,K;;4DAEO,UAACE,CAAD,EAAO;AACX,YAAKC,QAAL,CAAc;AACVF,QAAAA,OAAO,EAAEC;AADC,OAAd;AAGH,K;;;;;;;wCArCkB;AAAA;;AACf,UAAME,EAAE,GAAGT,QAAQ,CAACU,SAAT,EAAX;AACA,UAAMC,UAAU,GAAGF,EAAE,CAACG,UAAH,CAAc,QAAd,CAAnB;AACA,UAAIC,UAAU,GAAG,EAAjB;AACAF,MAAAA,UAAU,CAACG,GAAX,GACCC,IADD,CACM,UAAAC,GAAG,EAAI;AACTA,QAAAA,GAAG,CAACC,OAAJ,CAAY,UAAAC,GAAG,EAAI;AACf,cAAIC,QAAQ,GAAGD,GAAG,CAACE,IAAJ,EAAf;AACAD,UAAAA,QAAQ,CAACE,EAAT,GAAcH,GAAG,CAACG,EAAlB;AACAR,UAAAA,UAAU,CAACS,IAAX,CAAgBH,QAAhB;AACH,SAJD;;AAKA,QAAA,MAAI,CAACX,QAAL,CAAc;AACVL,UAAAA,UAAU,EAAEU;AADF,SAAd;;AAGA,QAAA,MAAI,CAACT,OAAL,GAAe,KAAf;AACH,OAXD,EAYCmB,KAZD,CAYO,UAAAC,GAAG,EAAI;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,GAArB;AACH,OAdD;AAeH;;;6BAmBQ;AAAA,wBAC2B,KAAKG,KADhC;AAAA,UACGxB,UADH,eACGA,UADH;AAAA,UACeC,OADf,eACeA,OADf;AAEL,aACI;AAAK,QAAA,SAAS,EAAC;AAAf,SACI;AAAK,QAAA,SAAS,EAAC;AAAf,SACI,2BADJ,CADJ,EAKI;AAAK,QAAA,SAAS,EAAC;AAAf,SACI;AAAK,QAAA,SAAS,EAAC;AAAf,SACI;AAAO,QAAA,SAAS,EAAC;AAAjB,SACI,qBACI,kBACI,gCADJ,EAEI,yBAFJ,EAGI,qCAHJ,EAII,2BAJJ,EAKI,mCALJ,EAMI,4BANJ,EAOI,2BAPJ,CADJ,CADJ,EAYI,qBAEMA,OAAO,GAAG,MAAC,OAAD;AACR,QAAA,YAAY,EAAE,KAAKwB,sBADX;AAER,QAAA,QAAQ,EAAE,KAAKC,KAFP;AAGR,QAAA,MAAM,EAAE1B;AAHA,QAAH,GAGoB,YALjC,CAZJ,CADJ,CADJ,CALJ,EA+BI,MAAC,gBAAD;AACI,QAAA,OAAO,EAAE,KAAK2B,qBADlB;AAEI,QAAA,OAAO,EAAE,KAAKH,KAAL,CAAWrB,OAFxB;AAGI,QAAA,MAAM,EAAE,KAAKqB,KAAL,CAAWtB,gBAAX,GAA8B,QAA9B,GAAyC;AAHrD,QA/BJ,EAsCI;AAAK,QAAA,SAAS,EAAC;AAAf,QAtCJ,CADJ;AA0CH;;;;EA1FqBP,S;;AA6F1B,eAAeI,WAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport OrderUpdateModal from '../Modals/OrderUpdateModal';\r\nimport { firebase } from '../../../firebase';\r\nimport OrderTR from '../orders/OrderTR';\r\n\r\nclass OrdersTable extends Component {\r\n    state = {\r\n        ordersData: [],\r\n        loading: true,\r\n        orderUpdateModal: false,\r\n        orderId: ''\r\n    };\r\n\r\n    componentDidMount(){\r\n        const db = firebase.firestore();\r\n        const dbOrderRef = db.collection('orders');\r\n        let orderArray = [];\r\n        dbOrderRef.get()\r\n        .then(res => {\r\n            res.forEach(doc => {\r\n                let orderObj = doc.data();\r\n                orderObj.id = doc.id;\r\n                orderArray.push(orderObj)\r\n            });\r\n            this.setState({\r\n                ordersData: orderArray\r\n            })\r\n            this.loading = false;\r\n        })\r\n        .catch(err => {\r\n            console.log('error', err)\r\n        });\r\n    }\r\n\r\n    toggleOrderUpdateModal = (e) => {\r\n        this.setState({\r\n            orderUpdateModal: e\r\n        });\r\n    }\r\n\r\n    closeOrderUpdateModal = () => {\r\n        this.setState({\r\n            orderUpdateModal: false\r\n        });\r\n    }\r\n\r\n    getId = (e) => {\r\n        this.setState({\r\n            orderId: e\r\n        });\r\n    }\r\n    render() {\r\n        const { ordersData, loading } = this.state;\r\n        return (\r\n            <div className=\"admin-main-content d-flex flex-column\">\r\n                <div className=\"page-header\">\r\n                    <h2>Orders</h2>\r\n                </div>\r\n\r\n                <div className=\"admin-table admin-orders-table height-555\">\r\n                    <div className=\"table-responsive\">\r\n                        <table className=\"table table-hover mb-0\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Customer ID</th>\r\n                                    <th>Date</th>\r\n                                    <th>Delivery Address</th>\r\n                                    <th>Amount</th>\r\n                                    <th>Payment Method</th>\r\n                                    <th>Contact</th>\r\n                                    <th>Status</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n\r\n                                { loading ? <OrderTR \r\n                                    onOrderModal={this.toggleOrderUpdateModal} \r\n                                    onPassId={this.getId}\r\n                                    orders={ordersData} /> : 'Loading...' }\r\n\r\n                            </tbody>\r\n                        </table>\r\n                    </div> \r\n                </div>\r\n\r\n                <OrderUpdateModal\r\n                    onClick={this.closeOrderUpdateModal} \r\n                    orderId={this.state.orderId}\r\n                    active={this.state.orderUpdateModal ? 'active' : ''} \r\n                />\r\n                \r\n                {/* Footer */}\r\n                <div className=\"flex-grow-1\"></div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default OrdersTable;"]},"metadata":{},"sourceType":"module"}