{"ast":null,"code":"var _jsxFileName = \"F:\\\\N\\u0103m 4 h\\u1ECDc k\\u1EF3 1\\\\M\\xF4 h\\xECnh h\\xF3a ph\\u1EA7n m\\u1EC1m\\\\New folder (2)\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from 'react';\nimport TopHeader from '../components/Layouts/TopHeader';\nimport Navbar from '../components/Layouts/Navbar';\nimport MainBanner from '../components/HomeOne/MainBanner';\nimport RecentProducts from '../components/HomeOne/RecentProducts';\nimport OfferStyleOne from '../components/Common/OfferStyleOne';\nimport FacilitySlider from '../components/Common/FacilitySlider';\nimport Footer from '../components/Layouts/Footer';\nimport PopularProducts from '../components/HomeOne/PopularProducts';\nimport BestSellingProducts from '../components/HomeOne/BestSellingProducts';\nimport CartContext from '../contexts/CartContext';\nimport { UserContext } from '../contexts/UserContext';\n\nconst Index = () => {\n  const cart = useContext(CartContext);\n  const user = useContext(UserContext);\n  const {\n    0: data,\n    1: setData\n  } = useState([]);\n  useEffect(() => {\n    fecthNewProduct();\n  }, []);\n\n  const fecthNewProduct = async () => {\n    const qs = require('qs');\n\n    const query = qs.stringify({\n      sort: ['id:desc'],\n      populate: '*'\n    }, {\n      encodeValuesOnly: true\n    });\n    await fetch(process.env.API_HOST + `/api/products?${query}`).then(response => response.json()).then(res => {\n      if (res.data && res.data[0] && res.data[0].attributes) {\n        const dataProduct = res.data.slice(0, 6);\n        dataProduct.map((item, index) => {\n          data.push(item);\n          setData([...data]);\n        });\n      }\n    });\n  };\n\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, __jsx(TopHeader, {\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), __jsx(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }), __jsx(MainBanner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }), __jsx(RecentProducts, {\n    products: data,\n    addToCart: cart.addToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }), __jsx(OfferStyleOne, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }), __jsx(PopularProducts, {\n    products: data,\n    addToCart: cart.addToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }), __jsx(FacilitySlider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }), __jsx(BestSellingProducts, {\n    products: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default Index;","map":{"version":3,"sources":["F:/Năm 4 học kỳ 1/Mô hình hóa phần mềm/New folder (2)/pages/index.js"],"names":["React","useContext","useEffect","useState","TopHeader","Navbar","MainBanner","RecentProducts","OfferStyleOne","FacilitySlider","Footer","PopularProducts","BestSellingProducts","CartContext","UserContext","Index","cart","user","data","setData","fecthNewProduct","qs","require","query","stringify","sort","populate","encodeValuesOnly","fetch","process","env","API_HOST","then","response","json","res","attributes","dataProduct","slice","map","item","index","push","addToCart"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport TopHeader from '../components/Layouts/TopHeader';\r\nimport Navbar from '../components/Layouts/Navbar';\r\nimport MainBanner from '../components/HomeOne/MainBanner';\r\nimport RecentProducts from '../components/HomeOne/RecentProducts';\r\nimport OfferStyleOne from '../components/Common/OfferStyleOne';\r\nimport FacilitySlider from '../components/Common/FacilitySlider';\r\nimport Footer from '../components/Layouts/Footer';\r\nimport PopularProducts from '../components/HomeOne/PopularProducts';\r\nimport BestSellingProducts from '../components/HomeOne/BestSellingProducts';\r\nimport CartContext from '../contexts/CartContext';\r\nimport { UserContext } from '../contexts/UserContext';\r\n\r\nconst Index = () => {\r\n    const cart = useContext(CartContext);\r\n    const user = useContext(UserContext);\r\n    const [data, setData] = useState([])\r\n    \r\n    useEffect(() => {\r\n        fecthNewProduct();\r\n    }, [])\r\n\r\n    const fecthNewProduct = async () => {\r\n        const qs = require('qs');\r\n        const query = qs.stringify({\r\n            sort: ['id:desc',],\r\n            populate: '*'\r\n        }, {\r\n            encodeValuesOnly: true,\r\n        });\r\n        await fetch(process.env.API_HOST + `/api/products?${query}`)\r\n            .then(response => response.json())\r\n            .then(res => {\r\n                if (res.data && res.data[0] && res.data[0].attributes) {\r\n                    const dataProduct = res.data.slice(0, 6);\r\n                    dataProduct.map((item, index) => {\r\n                        data.push(item)\r\n                        setData([...data])\r\n                    })\r\n                }\r\n            });\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <TopHeader user={user} />\r\n            <Navbar />\r\n            <MainBanner />\r\n            <RecentProducts products={data} addToCart={cart.addToCart} />\r\n            <OfferStyleOne />\r\n            <PopularProducts products={data} addToCart={cart.addToCart}/>\r\n            <FacilitySlider />\r\n            <BestSellingProducts products={data} />\r\n            <Footer />\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\n\r\nexport default (Index);"]},"metadata":{},"sourceType":"module"}