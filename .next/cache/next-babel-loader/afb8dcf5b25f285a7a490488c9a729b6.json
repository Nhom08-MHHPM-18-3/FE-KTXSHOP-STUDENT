{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport OrderUpdateModal from '../Modals/OrderUpdateModal';\nimport { firebase } from '../../../firebase';\nimport OrderTR from '../orders/OrderTR';\n\nclass OrdersTable extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      ordersData: [],\n      loading: true,\n      orderUpdateModal: false,\n      orderId: ''\n    });\n\n    _defineProperty(this, \"toggleOrderUpdateModal\", e => {\n      this.setState({\n        orderUpdateModal: e\n      });\n    });\n\n    _defineProperty(this, \"closeOrderUpdateModal\", () => {\n      this.setState({\n        orderUpdateModal: false\n      });\n    });\n\n    _defineProperty(this, \"getId\", e => {\n      this.setState({\n        orderId: e\n      });\n    });\n  }\n\n  componentDidMount() {\n    const db = firebase.firestore();\n    const dbOrderRef = db.collection('orders');\n    let orderArray = [];\n    dbOrderRef.get().then(res => {\n      res.forEach(doc => {\n        let orderObj = doc.data();\n        orderObj.id = doc.id;\n        orderArray.push(orderObj);\n      });\n      this.setState({\n        ordersData: orderArray\n      });\n      this.loading = false;\n    }).catch(err => {\n      console.log('error', err);\n    });\n  }\n\n  render() {\n    const {\n      ordersData,\n      loading\n    } = this.state;\n    return __jsx(\"div\", {\n      className: \"admin-main-content d-flex flex-column\"\n    }, __jsx(\"div\", {\n      className: \"page-header\"\n    }, __jsx(\"h2\", null, \"Orders\")), __jsx(\"div\", {\n      className: \"admin-table admin-orders-table height-555\"\n    }, __jsx(\"div\", {\n      className: \"table-responsive\"\n    }, __jsx(\"table\", {\n      className: \"table table-hover mb-0\"\n    }, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"Customer ID\"), __jsx(\"th\", null, \"Date\"), __jsx(\"th\", null, \"Delivery Address\"), __jsx(\"th\", null, \"Amount\"), __jsx(\"th\", null, \"Payment Method\"), __jsx(\"th\", null, \"Contact\"), __jsx(\"th\", null, \"Status\"))), __jsx(\"tbody\", null, loading ? __jsx(OrderTR, {\n      onOrderModal: this.toggleOrderUpdateModal,\n      onPassId: this.getId,\n      orders: ordersData\n    }) : 'Loading...')))), __jsx(OrderUpdateModal, {\n      onClick: this.closeOrderUpdateModal,\n      orderId: this.state.orderId,\n      active: this.state.orderUpdateModal ? 'active' : ''\n    }), __jsx(\"div\", {\n      className: \"flex-grow-1\"\n    }));\n  }\n\n}\n\nexport default OrdersTable;","map":{"version":3,"sources":["F:/Năm 4 học kỳ 1/Mô hình hóa phần mềm/New folder (2)/components/Admin/orders/OrdersTable.js"],"names":["React","Component","OrderUpdateModal","firebase","OrderTR","OrdersTable","ordersData","loading","orderUpdateModal","orderId","e","setState","componentDidMount","db","firestore","dbOrderRef","collection","orderArray","get","then","res","forEach","doc","orderObj","data","id","push","catch","err","console","log","render","state","toggleOrderUpdateModal","getId","closeOrderUpdateModal"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,gBAAP,MAA6B,4BAA7B;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,OAAOC,OAAP,MAAoB,mBAApB;;AAEA,MAAMC,WAAN,SAA0BJ,SAA1B,CAAoC;AAAA;AAAA;;AAAA,mCACxB;AACJK,MAAAA,UAAU,EAAE,EADR;AAEJC,MAAAA,OAAO,EAAE,IAFL;AAGJC,MAAAA,gBAAgB,EAAE,KAHd;AAIJC,MAAAA,OAAO,EAAE;AAJL,KADwB;;AAAA,oDA6BNC,CAAD,IAAO;AAC5B,WAAKC,QAAL,CAAc;AACVH,QAAAA,gBAAgB,EAAEE;AADR,OAAd;AAGH,KAjC+B;;AAAA,mDAmCR,MAAM;AAC1B,WAAKC,QAAL,CAAc;AACVH,QAAAA,gBAAgB,EAAE;AADR,OAAd;AAGH,KAvC+B;;AAAA,mCAyCvBE,CAAD,IAAO;AACX,WAAKC,QAAL,CAAc;AACVF,QAAAA,OAAO,EAAEC;AADC,OAAd;AAGH,KA7C+B;AAAA;;AAQhCE,EAAAA,iBAAiB,GAAE;AACf,UAAMC,EAAE,GAAGV,QAAQ,CAACW,SAAT,EAAX;AACA,UAAMC,UAAU,GAAGF,EAAE,CAACG,UAAH,CAAc,QAAd,CAAnB;AACA,QAAIC,UAAU,GAAG,EAAjB;AACAF,IAAAA,UAAU,CAACG,GAAX,GACCC,IADD,CACMC,GAAG,IAAI;AACTA,MAAAA,GAAG,CAACC,OAAJ,CAAYC,GAAG,IAAI;AACf,YAAIC,QAAQ,GAAGD,GAAG,CAACE,IAAJ,EAAf;AACAD,QAAAA,QAAQ,CAACE,EAAT,GAAcH,GAAG,CAACG,EAAlB;AACAR,QAAAA,UAAU,CAACS,IAAX,CAAgBH,QAAhB;AACH,OAJD;AAKA,WAAKZ,QAAL,CAAc;AACVL,QAAAA,UAAU,EAAEW;AADF,OAAd;AAGA,WAAKV,OAAL,GAAe,KAAf;AACH,KAXD,EAYCoB,KAZD,CAYOC,GAAG,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,GAArB;AACH,KAdD;AAeH;;AAmBDG,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEzB,MAAAA,UAAF;AAAcC,MAAAA;AAAd,QAA0B,KAAKyB,KAArC;AACA,WACI;AAAK,MAAA,SAAS,EAAC;AAAf,OACI;AAAK,MAAA,SAAS,EAAC;AAAf,OACI,2BADJ,CADJ,EAKI;AAAK,MAAA,SAAS,EAAC;AAAf,OACI;AAAK,MAAA,SAAS,EAAC;AAAf,OACI;AAAO,MAAA,SAAS,EAAC;AAAjB,OACI,qBACI,kBACI,gCADJ,EAEI,yBAFJ,EAGI,qCAHJ,EAII,2BAJJ,EAKI,mCALJ,EAMI,4BANJ,EAOI,2BAPJ,CADJ,CADJ,EAYI,qBAEMzB,OAAO,GAAG,MAAC,OAAD;AACR,MAAA,YAAY,EAAE,KAAK0B,sBADX;AAER,MAAA,QAAQ,EAAE,KAAKC,KAFP;AAGR,MAAA,MAAM,EAAE5B;AAHA,MAAH,GAGoB,YALjC,CAZJ,CADJ,CADJ,CALJ,EA+BI,MAAC,gBAAD;AACI,MAAA,OAAO,EAAE,KAAK6B,qBADlB;AAEI,MAAA,OAAO,EAAE,KAAKH,KAAL,CAAWvB,OAFxB;AAGI,MAAA,MAAM,EAAE,KAAKuB,KAAL,CAAWxB,gBAAX,GAA8B,QAA9B,GAAyC;AAHrD,MA/BJ,EAsCI;AAAK,MAAA,SAAS,EAAC;AAAf,MAtCJ,CADJ;AA0CH;;AA1F+B;;AA6FpC,eAAeH,WAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport OrderUpdateModal from '../Modals/OrderUpdateModal';\r\nimport { firebase } from '../../../firebase';\r\nimport OrderTR from '../orders/OrderTR';\r\n\r\nclass OrdersTable extends Component {\r\n    state = {\r\n        ordersData: [],\r\n        loading: true,\r\n        orderUpdateModal: false,\r\n        orderId: ''\r\n    };\r\n\r\n    componentDidMount(){\r\n        const db = firebase.firestore();\r\n        const dbOrderRef = db.collection('orders');\r\n        let orderArray = [];\r\n        dbOrderRef.get()\r\n        .then(res => {\r\n            res.forEach(doc => {\r\n                let orderObj = doc.data();\r\n                orderObj.id = doc.id;\r\n                orderArray.push(orderObj)\r\n            });\r\n            this.setState({\r\n                ordersData: orderArray\r\n            })\r\n            this.loading = false;\r\n        })\r\n        .catch(err => {\r\n            console.log('error', err)\r\n        });\r\n    }\r\n\r\n    toggleOrderUpdateModal = (e) => {\r\n        this.setState({\r\n            orderUpdateModal: e\r\n        });\r\n    }\r\n\r\n    closeOrderUpdateModal = () => {\r\n        this.setState({\r\n            orderUpdateModal: false\r\n        });\r\n    }\r\n\r\n    getId = (e) => {\r\n        this.setState({\r\n            orderId: e\r\n        });\r\n    }\r\n    render() {\r\n        const { ordersData, loading } = this.state;\r\n        return (\r\n            <div className=\"admin-main-content d-flex flex-column\">\r\n                <div className=\"page-header\">\r\n                    <h2>Orders</h2>\r\n                </div>\r\n\r\n                <div className=\"admin-table admin-orders-table height-555\">\r\n                    <div className=\"table-responsive\">\r\n                        <table className=\"table table-hover mb-0\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Customer ID</th>\r\n                                    <th>Date</th>\r\n                                    <th>Delivery Address</th>\r\n                                    <th>Amount</th>\r\n                                    <th>Payment Method</th>\r\n                                    <th>Contact</th>\r\n                                    <th>Status</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n\r\n                                { loading ? <OrderTR \r\n                                    onOrderModal={this.toggleOrderUpdateModal} \r\n                                    onPassId={this.getId}\r\n                                    orders={ordersData} /> : 'Loading...' }\r\n\r\n                            </tbody>\r\n                        </table>\r\n                    </div> \r\n                </div>\r\n\r\n                <OrderUpdateModal\r\n                    onClick={this.closeOrderUpdateModal} \r\n                    orderId={this.state.orderId}\r\n                    active={this.state.orderUpdateModal ? 'active' : ''} \r\n                />\r\n                \r\n                {/* Footer */}\r\n                <div className=\"flex-grow-1\"></div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default OrdersTable;"]},"metadata":{},"sourceType":"module"}