{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from 'react';\nimport TopHeader from '../../components/Layouts/TopHeader';\nimport Navbar from '../../components/Layouts/Navbar';\nimport PageBanner from '../../components/Common/PageBanner';\nimport { useRouter, useParams } from 'next/router';\nimport ProductDetailsStyleOne from '../../components/ProductDetails/ProductDetailsStyleOne';\nimport FacilitySlider from '../../components/Common/FacilitySlider';\nimport Footer from '../../components/Layouts/Footer';\nimport { UserContext } from '../../contexts/UserContext';\nimport CartContext from '../../contexts/CartContext';\n\nvar Product = function Product() {\n  var user = useContext(UserContext);\n  var cart = useContext(CartContext);\n\n  var _useState = useState({}),\n      product = _useState[0],\n      setProduct = _useState[1];\n\n  var _useState2 = useState(),\n      idProduct = _useState2[0],\n      setIdProduct = _useState2[1];\n\n  var router = useRouter();\n  var id = router.query.id;\n  useEffect(function () {\n    fetchProduct();\n  }, []);\n\n  var fetchProduct = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var qs, query;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              qs = require('qs');\n              query = qs.stringify({\n                filters: {\n                  id: {\n                    $eq: id\n                  }\n                },\n                populate: '*'\n              }, {\n                encodeValuesOnly: true\n              });\n              _context.next = 4;\n              return fetch(process.env.API_HOST + \"/api/products?\".concat(query)).then(function (response) {\n                return response.json();\n              }).then(function (res) {\n                setIdProduct(res.data.id);\n                setProduct(res.data[0].attributes);\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchProduct() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(React.Fragment, null, __jsx(TopHeader, {\n    user: user\n  }), __jsx(Navbar, null), __jsx(PageBanner, {\n    pageTitle: \"Chi ti\\u1EBFt s\\u1EA3n ph\\u1EA9m\",\n    homePageUrl: \"/\",\n    homePageText: \"Trang ch\\u1EE7\",\n    activePageText: product.ProductName\n  }), __jsx(ProductDetailsStyleOne, {\n    product: product,\n    cart: cart,\n    id: id\n  }), __jsx(FacilitySlider, null), __jsx(Footer, null));\n};\n\nexport default Product;","map":null,"metadata":{},"sourceType":"module"}