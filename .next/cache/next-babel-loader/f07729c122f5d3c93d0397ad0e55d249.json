{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from 'react';\nimport TopHeader from '../components/Layouts/TopHeader';\nimport Navbar from '../components/Layouts/Navbar';\nimport MainBanner from '../components/HomeOne/MainBanner';\nimport RecentProducts from '../components/HomeOne/RecentProducts';\nimport OfferStyleOne from '../components/Common/OfferStyleOne';\nimport FacilitySlider from '../components/Common/FacilitySlider';\nimport Footer from '../components/Layouts/Footer';\nimport PopularProducts from '../components/HomeOne/PopularProducts';\nimport BestSellingProducts from '../components/HomeOne/BestSellingProducts';\nimport CartContext from '../contexts/CartContext';\nimport { UserContext } from '../contexts/UserContext';\n\nvar Index = function Index() {\n  var cart = useContext(CartContext);\n  var user = useContext(UserContext);\n\n  var _useState = useState([]),\n      data = _useState[0],\n      setData = _useState[1];\n\n  useEffect(function () {\n    fecthNewProduct();\n  }, []);\n\n  var fecthNewProduct = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var qs, query;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              qs = require('qs');\n              query = qs.stringify({\n                sort: ['id:desc'],\n                populate: '*'\n              }, {\n                encodeValuesOnly: true\n              });\n              _context.next = 4;\n              return fetch(process.env.API_HOST + \"/api/products?\".concat(query)).then(function (response) {\n                return response.json();\n              }).then(function (res) {\n                if (res.data && res.data[0] && res.data[0].attributes) {\n                  var dataProduct = res.data.slice(0, 6);\n                  dataProduct.map(function (item, index) {\n                    data.push(item);\n                    setData(_toConsumableArray(data));\n                  });\n                }\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fecthNewProduct() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(React.Fragment, null, __jsx(TopHeader, {\n    user: user\n  }), __jsx(Navbar, null), __jsx(MainBanner, null), __jsx(RecentProducts, {\n    products: data,\n    addToCart: cart.addToCart\n  }), __jsx(OfferStyleOne, null), __jsx(PopularProducts, {\n    products: data,\n    addToCart: cart.addToCart\n  }), __jsx(FacilitySlider, null), __jsx(BestSellingProducts, {\n    products: data,\n    addToCart: cart.addToCart\n  }), __jsx(Footer, null));\n};\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}