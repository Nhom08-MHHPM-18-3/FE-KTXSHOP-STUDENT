{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{\"/0+H\":function(t,e,n){\"use strict\";e.__esModule=!0,e.isInAmpMode=i,e.useAmp=function(){return i(a.default.useContext(o.AmpStateContext))};var r,a=(r=n(\"q1tI\"))&&r.__esModule?r:{default:r},o=n(\"lwAK\");function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ampFirst,n=void 0!==e&&e,r=t.hybrid,a=void 0!==r&&r,o=t.hasQuery;return n||a&&(void 0!==o&&o)}},0:function(t,e,n){n(\"GcxT\"),t.exports=n(\"nOHt\")},\"1DEj\":function(t,e,n){},\"1TCz\":function(t,e,n){\"use strict\";n.r(e);var r=n(\"o0o1\"),a=n.n(r),o=n(\"HaE+\"),i=(n(\"1DEj\"),n(\"q1tI\")),u=n.n(i),c=n(\"GGqY\");function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var s=n(\"8Kt/\"),f=n.n(s),l=u.a.createElement,p=function(t){var e=d(u.a.useState(!1),2),n=e[0],r=e[1],a=u.a.useRef(null);u.a.useEffect((function(){document.addEventListener(\"scroll\",(function(){window.scrollY>170?r(!0):r(!1)}))}),[]);var o=function(){0===window.pageYOffset&&clearInterval(a.current),window.scroll(0,window.pageYOffset-t.scrollStepInPx)},i=function(){a.current=setInterval(o,t.delayInMs)};return l(u.a.Fragment,null,l(\"div\",{className:\"go-top \".concat(n?\"active\":\"\"),onClick:i},l(\"i\",{className:\"bx bx-up-arrow-alt\"})))},y=u.a.createElement,h=function(t){var e=t.children,n=d(u.a.useState(!1),2),r=n[0],a=n[1];return u.a.useEffect((function(){setTimeout((function(){return a(!1)}),2e3)}),[]),y(u.a.Fragment,null,y(f.a,null,y(\"title\",null,\"KTXShop\"),y(\"meta\",{name:\"description\",content:\"N\\u01a1i bu\\xf4n b\\xe1n nh\\u1eefng m\\u1eb7t h\\xe0ng c\\u1ea7n thi\\u1ebft\"}),y(\"meta\",{name:\"og:title\",property:\"og:title\",content:\"KTXShop\"}),y(\"meta\",{name:\"twitter:card\",content:\"KTXShop\"}),y(\"link\",{rel:\"canonical\",href:\"https://livani-react.envytheme.com/\"}),y(\"meta\",{property:\"og:image\",content:\"https://demaxin.s3.ap-south-1.amazonaws.com/cd19-2-1589216093113.jpg\"})),r?\"Loading\":e,y(p,{scrollStepInPx:\"100\",delayInMs:\"10.50\"}))},v=n(\"KQm4\"),m=n(\"rePB\"),b=n(\"gdJV\"),w=n(\"TJRf\"),g=u.a.createElement;function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){Object(m.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S=function(t,e){if(\"ADD_PRODUCTS\"===e.type){var n;return n=e.payload,O(O({},t),{},{products:n})}if(\"INIT_CART\"===e.type){var r=function(){e.payload;for(var n=0,r=e.payload,a=[],o=function(e){var o=t.products.find((function(t){return t.id===r[e].attributes.ProductID}));n+=r[e].attributes.Subtotal,a.push(O(O({},r[e]),{},{product:o}))},i=0;i<e.payload.length;i++)o(i);return{v:O(O({},t),{},{addedItems:a,total:n})}}();if(\"object\"===typeof r)return r.v}if(\"ADD_TO_CART\"===e.type){var a=e.product;console.log(a);var o=t.addedItems;o.push(O(O({},e.data),{},{product:a}));var i=t.total+e.product.attributes.Price*e.quantity;return O(O({},t),{},{addedItems:o,total:i})}if(\"ADD_QUANTITY_WITH_NUMBER\"===e.type){var u=t.products.find((function(t){return t.id===e.id}));if(t.addedItems.find((function(t){return e.id===t.id})))return u.quantity+=e.qty,O(O({},t),{},{total:t.total+u.newPrice*e.qty});u.quantity=e.qty;var c=t.total+u.newPrice*e.qty;return O(O({},t),{},{addedItems:[].concat(Object(v.a)(t.addedItems),[u]),total:c})}if(\"REMOVE_ITEM\"===e.type){fetch(\"http://localhost:1337\"+\"/api/shopping-carts/\".concat(e.id),{method:\"DELETE\"});var d=t.addedItems.find((function(t){return e.id===t.id})),s=t.addedItems.filter((function(t){return e.id!==t.id})),f=t.total-d.attributes.Subtotal;return O(O({},t),{},{addedItems:s,total:f})}if(\"ADD_QUANTITY\"===e.type){var l=t.products.find((function(t){return t.id===e.id}));l.quantity+=1;var p=t.total+l.newPrice;return O(O({},t),{},{total:p})}if(\"SUB_QUANTITY\"===e.type){var y=t.products.find((function(t){return t.id===e.id}));if(1===y.quantity){var h=t.addedItems.filter((function(t){return t.id!==e.id})),m=t.total-y.newPrice;return O(O({},t),{},{addedItems:h,total:m})}y.quantity-=1;var b=t.total-y.newPrice;return O(O({},t),{},{total:b})}return\"ADD_SHIPPING\"===e.type?O(O({},t),{},{shipping:t.shipping+=30}):\"SUB_SHIPPING\"===e.type?O(O({},t),{},{shipping:t.shipping-=30}):\"RESET_CART\"===e.type?O(O({},t),{},{addedItems:[],total:0,shipping:0}):t},T=function(t){var e=t.children,r=Object(i.useState)([]),u=r[0],c=r[1],d=Object(i.useState)([]),s=d[0],f=d[1],l=Object(i.useReducer)(S,{products:[],addedItems:[],total:0,shipping:0}),p=l[0],y=l[1],h=function(){var t=Object(o.a)(a.a.mark((function t(e,n){var r,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=p.products.find((function(t){return t.id===e})),o=localStorage.getItem(\"jwt-ktxshop\"),(i=new Headers).append(\"Content-Type\",\"application/json\"),t.next=6,fetch(\"http://localhost:1337/api/shopping-carts\",{method:\"POST\",body:JSON.stringify({data:{AccountID:o,ProductID:r.id,Quantity:n||1,UnitCost:r.attributes.Price,Subtotal:r.attributes.Price*n}}),headers:i}).then((function(t){return t.json()})).then((function(t){y({type:\"ADD_TO_CART\",data:t.data,product:r,quantity:n})}));case 6:case\"end\":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){m()}),[]);var m=function(){var t=Object(o.a)(a.a.mark((function t(){var e,r,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n(\"Qyje\"),r=e.stringify({sort:[\"id:desc\"],populate:\"*\"},{encodeValuesOnly:!0}),t.next=4,fetch(\"http://localhost:1337\"+\"/api/products?\".concat(r)).then((function(t){return t.json()})).then((function(t){t.data&&t.data[0]&&t.data[0].attributes&&t.data.map((function(t,e){u.push(t),c(Object(v.a)(u)),y({type:\"ADD_PRODUCTS\",payload:u})}))}));case 4:return o=localStorage.getItem(\"jwt-ktxshop\"),i=e.stringify({filters:{AccountID:{$eq:Number(o)}}},{encodeValuesOnly:!0}),t.next=8,fetch(\"http://localhost:1337\"+\"/api/shopping-carts?\".concat(i)).then((function(t){return t.json()})).then((function(t){t.data&&t.data[0]&&t.data[0].attributes&&t.data.map((function(t,e){s.push(t),f(Object(v.a)(s)),y({type:\"INIT_CART\",payload:s})}))}));case 8:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return g(w.a.Provider,{value:{cart:p,removeItem:function(t){y({type:\"REMOVE_ITEM\",id:t})},addToCart:h,addQuantity:function(t){y({type:\"ADD_QUANTITY\",id:t})},subQuantity:function(t){y({type:\"SUB_QUANTITY\",id:t})}}},e)},P=u.a.createElement,j=function(t){var e=t.Component,n=t.pageProps;return P(b.b,null,P(T,null,P(h,null,P(c.a,null),P(e,n))))};j.getInitialProps=function(){var t=Object(o.a)(a.a.mark((function t(e){var n,r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.Component,r=e.ctx,o={},!n.getInitialProps){t.next=6;break}return t.next=5,n.getInitialProps(r);case 5:o=t.sent;case 6:return t.abrupt(\"return\",{pageProps:o});case 7:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.default=j},\"5fIB\":function(t,e,n){var r=n(\"7eYB\");t.exports=function(t){if(Array.isArray(t))return r(t)}},\"8Kt/\":function(t,e,n){\"use strict\";e.__esModule=!0,e.defaultHead=d,e.default=void 0;var r=c(n(\"q1tI\")),a=c(n(\"Xuae\")),o=n(\"lwAK\"),i=n(\"FYa8\"),u=n(\"/0+H\");function c(t){return t&&t.__esModule?t:{default:t}}function d(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[r.default.createElement(\"meta\",{charSet:\"utf-8\"})];return t||e.push(r.default.createElement(\"meta\",{name:\"viewport\",content:\"width=device-width\"})),e}function s(t,e){return\"string\"===typeof e||\"number\"===typeof e?t:e.type===r.default.Fragment?t.concat(r.default.Children.toArray(e.props.children).reduce((function(t,e){return\"string\"===typeof e||\"number\"===typeof e?t:t.concat(e)}),[])):t.concat(e)}var f=[\"name\",\"httpEquiv\",\"charSet\",\"itemProp\"];function l(t,e){return t.reduce((function(t,e){var n=r.default.Children.toArray(e.props.children);return t.concat(n)}),[]).reduce(s,[]).reverse().concat(d(e.inAmpMode)).filter(function(){var t=new Set,e=new Set,n=new Set,r={};return function(a){var o=!0;if(a.key&&\"number\"!==typeof a.key&&a.key.indexOf(\"$\")>0){var i=a.key.slice(a.key.indexOf(\"$\")+1);t.has(i)?o=!1:t.add(i)}switch(a.type){case\"title\":case\"base\":e.has(a.type)?o=!1:e.add(a.type);break;case\"meta\":for(var u=0,c=f.length;u<c;u++){var d=f[u];if(a.props.hasOwnProperty(d))if(\"charSet\"===d)n.has(d)?o=!1:n.add(d);else{var s=a.props[d],l=r[d]||new Set;l.has(s)?o=!1:(l.add(s),r[d]=l)}}}return o}}()).reverse().map((function(t,e){var n=t.key||e;return r.default.cloneElement(t,{key:n})}))}var p=(0,a.default)();function y(t){var e=t.children;return(r.default.createElement(o.AmpStateContext.Consumer,null,(function(t){return r.default.createElement(i.HeadManagerContext.Consumer,null,(function(n){return r.default.createElement(p,{reduceComponentsToState:l,handleStateChange:n,inAmpMode:(0,u.isInAmpMode)(t)},e)}))})))}y.rewind=p.rewind;var h=y;e.default=h},FYa8:function(t,e,n){\"use strict\";var r;e.__esModule=!0,e.HeadManagerContext=void 0;var a=((r=n(\"q1tI\"))&&r.__esModule?r:{default:r}).default.createContext(null);e.HeadManagerContext=a},GcxT:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/_app\",function(){return n(\"1TCz\")}])},JX7q:function(t,e,n){\"use strict\";function r(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}n.d(e,\"a\",(function(){return r}))},KQm4:function(t,e,n){\"use strict\";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}n.d(e,\"a\",(function(){return r}))},TJRf:function(t,e,n){\"use strict\";var r=n(\"q1tI\"),a=n.n(r).a.createContext();e.a=a},Xuae:function(t,e,n){\"use strict\";var r=n(\"/GRZ\"),a=n(\"qXWd\"),o=n(\"i2R6\"),i=n(\"48fX\"),u=n(\"tCBg\"),c=n(\"T0f4\"),d=n(\"mPvQ\");function s(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var a=c(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}e.__esModule=!0,e.default=void 0;var f=n(\"q1tI\"),l=!1;e.default=function(){var t,e=new Set;function n(n){t=n.props.reduceComponentsToState(d(e),n.props),n.props.handleStateChange&&n.props.handleStateChange(t)}return(function(u){i(d,u);var c=s(d);function d(t){var o;return r(this,d),o=c.call(this,t),l&&(e.add(a(o)),n(a(o))),o}return o(d,null,[{key:\"rewind\",value:function(){var n=t;return t=void 0,e.clear(),n}}]),o(d,[{key:\"componentDidMount\",value:function(){e.add(this),n(this)}},{key:\"componentDidUpdate\",value:function(){n(this)}},{key:\"componentWillUnmount\",value:function(){e.delete(this),n(this)}},{key:\"render\",value:function(){return null}}]),d}(f.Component))}},kG2m:function(t,e){t.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}},lwAK:function(t,e,n){\"use strict\";var r;e.__esModule=!0,e.AmpStateContext=void 0;var a=((r=n(\"q1tI\"))&&r.__esModule?r:{default:r}).default.createContext({});e.AmpStateContext=a},mPvQ:function(t,e,n){var r=n(\"5fIB\"),a=n(\"rlHP\"),o=n(\"KckH\"),i=n(\"kG2m\");t.exports=function(t){return r(t)||a(t)||o(t)||i()}},rePB:function(t,e,n){\"use strict\";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,\"a\",(function(){return r}))},rlHP:function(t,e){t.exports=function(t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},wx14:function(t,e,n){\"use strict\";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,\"a\",(function(){return r}))},zLVn:function(t,e,n){\"use strict\";function r(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}n.d(e,\"a\",(function(){return r}))}},[[0,0,2,9,1,5,6]]]);","extractedComments":[]}